# PAdES (PDF) İmza Doğrulama

PAdES (PDF Advanced Electronic Signatures) formatındaki PDF belgelerindeki dijital imzaları doğrulama.

## Endpoint

```
POST /api/v1/verify/pades/simple
```

## Request Parameters

| Parametre | Tip | Zorunlu | Varsayılan | Açıklama |
|-----------|-----|---------|------------|----------|
| `signedDocument` | MultipartFile | ✅ | - | İmzalı PDF belgesi |
| `level` | String | ❌ | `SIMPLE` | Doğrulama seviyesi: `SIMPLE` veya `COMPREHENSIVE` |

## Response

### Simple Level

```json
{
  "valid": true,
  "status": "VALID",
  "signatureType": "PADES",
  "verificationTime": "2024-11-08T10:30:00Z",
  "signatures": [
    {
      "signatureId": "id-1234",
      "valid": true,
      "signatureFormat": "PAdES-BASELINE-B",
      "signingTime": "2024-11-07T14:20:00Z"
    }
  ]
}
```

### Comprehensive Level

```json
{
  "valid": true,
  "status": "VALID",
  "signatureType": "PADES",
  "verificationTime": "2024-11-08T10:30:00Z",
  "signatures": [
    {
      "signatureId": "id-1234",
      "valid": true,
      "signatureFormat": "PAdES-BASELINE-B",
      "signingTime": "2024-11-07T14:20:00Z",
      "indication": "TOTAL_PASSED",
      "subIndication": null,
      "certificate": {
        "subjectDN": "CN=Test User",
        "issuerDN": "CN=Test CA",
        "validFrom": "2024-01-01T00:00:00Z",
        "validTo": "2025-12-31T23:59:59Z"
      },
      "qualificationDetails": {
        "qualificationLevel": "QES"
      },
      "validationDetails": {
        "certificateChainValid": true,
        "revocationChecked": true,
        "timestampValid": true
      }
    }
  ]
}
```

## Örnek Kullanım

### cURL

```bash
# Basit doğrulama
curl -X POST http://localhost:8086/api/v1/verify/pades/simple \
  -F "signedDocument=@signed-document.pdf" \
  -F "level=SIMPLE"

# Kapsamlı doğrulama
curl -X POST http://localhost:8086/api/v1/verify/pades/simple \
  -F "signedDocument=@signed-document.pdf" \
  -F "level=COMPREHENSIVE"
```

### JavaScript (Fetch)

```javascript
const formData = new FormData();
formData.append('signedDocument', fileInput.files[0]);
formData.append('level', 'COMPREHENSIVE');

const response = await fetch('http://localhost:8086/api/v1/verify/pades/simple', {
  method: 'POST',
  body: formData
});

const result = await response.json();
console.log(result);
```

## Doğrulama Seviyeleri

### SIMPLE

- **Hızlı doğrulama** - Düşük latency, yüksek throughput
- **Temel bilgiler** döndürür:
  - İmza geçerlilik durumu (valid/invalid)
  - İmza formatı (PAdES-BASELINE-B, PAdES-BASELINE-T, vb.)
  - İmzalama zamanı
  - İmza ID'leri
- **Sertifika zinciri doğrulaması otomatik yapılır** ancak detaylar response'a dahil edilmez
- **Kullanım senaryosu**: Toplu doğrulama, hızlı durum kontrolü

### COMPREHENSIVE

- **Detaylı doğrulama** - Tam analiz ve raporlama
- **Tüm bilgileri içerir**:
  - Simple level bilgileri
  - Sertifika detayları (Subject DN, Issuer DN, geçerlilik tarihleri)
  - Doğrulama detayları (certificate chain valid, revocation checked, timestamp valid)
  - Qualification details (QES, AdES, AdESQC)
  - Indication ve SubIndication değerleri
  - Hatalar ve uyarılar
- **Sertifika zinciri tam olarak raporlanır**
- **Kullanım senaryosu**: Detaylı analiz, compliance kontrolü, audit trail

**Not:** Her iki seviyede de sertifika zinciri doğrulaması DSS tarafından otomatik yapılır. `level` parametresi sadece response içeriğini etkiler.

