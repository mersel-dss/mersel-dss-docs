# PAdES (PDF) İmza Doğrulama

PAdES (PDF Advanced Electronic Signatures) formatındaki PDF belgelerindeki dijital imzaları doğrulama.

## Endpoint

```
POST /api/v1/verify/pades
```

## Request Parameters

| Parametre | Tip | Zorunlu | Varsayılan | Açıklama |
|-----------|-----|---------|------------|----------|
| `signedDocument` | MultipartFile | ✅ | - | İmzalı PDF belgesi |
| `level` | String | ❌ | `SIMPLE` | Doğrulama seviyesi: `SIMPLE` veya `COMPREHENSIVE` |
| `validateCertificateChain` | Boolean | ❌ | `true` | Sertifika zinciri doğrulaması yapılsın mı |
| `checkRevocation` | Boolean | ❌ | `false` | İptal kontrolü yapılsın mı (OCSP/CRL) |
| `validateTimestamp` | Boolean | ❌ | `false` | Zaman damgası doğrulaması yapılsın mı |

## Response

### Simple Level

```json
{
  "valid": true,
  "status": "VALID",
  "signatureType": "PADES",
  "verificationTime": "2024-11-08T10:30:00Z",
  "signatures": [
    {
      "signatureId": "id-1234",
      "valid": true,
      "signatureFormat": "PAdES-BASELINE-B",
      "signingTime": "2024-11-07T14:20:00Z"
    }
  ]
}
```

### Comprehensive Level

```json
{
  "valid": true,
  "status": "VALID",
  "signatureType": "PADES",
  "verificationTime": "2024-11-08T10:30:00Z",
  "signatures": [
    {
      "signatureId": "id-1234",
      "valid": true,
      "signatureFormat": "PAdES-BASELINE-B",
      "signingTime": "2024-11-07T14:20:00Z",
      "indication": "TOTAL_PASSED",
      "subIndication": null,
      "certificate": {
        "subjectDN": "CN=Test User",
        "issuerDN": "CN=Test CA",
        "validFrom": "2024-01-01T00:00:00Z",
        "validTo": "2025-12-31T23:59:59Z"
      },
      "qualificationDetails": {
        "qualificationLevel": "QES"
      },
      "validationDetails": {
        "certificateChainValid": true,
        "revocationChecked": true,
        "timestampValid": true
      }
    }
  ]
}
```

## Örnek Kullanım

### cURL

```bash
# Basit doğrulama
curl -X POST http://localhost:8086/api/v1/verify/pades \
  -F "signedDocument=@signed-document.pdf" \
  -F "level=SIMPLE"

# Kapsamlı doğrulama
curl -X POST http://localhost:8086/api/v1/verify/pades \
  -F "signedDocument=@signed-document.pdf" \
  -F "level=COMPREHENSIVE" \
  -F "checkRevocation=true" \
  -F "validateTimestamp=true"
```

### JavaScript (Fetch)

```javascript
const formData = new FormData();
formData.append('signedDocument', fileInput.files[0]);
formData.append('level', 'COMPREHENSIVE');
formData.append('checkRevocation', 'true');
formData.append('validateTimestamp', 'true');

const response = await fetch('http://localhost:8086/api/v1/verify/pades', {
  method: 'POST',
  body: formData
});

const result = await response.json();
console.log(result);
```

## Doğrulama Seviyeleri

### SIMPLE

- Hızlı doğrulama
- Temel bilgiler (valid/invalid, format, signing time)
- Sertifika zinciri ve iptal kontrolü yapılır ancak detaylar döndürülmez

### COMPREHENSIVE

- Detaylı doğrulama
- Tüm bilgiler (sertifika zinciri, validation details, qualification details)
- Sertifika bilgileri, iptal durumu, zaman damgası detayları

**Not:** `level` parametresi sadece response detay seviyesini belirler. Validation parametreleri (`checkRevocation`, `validateTimestamp`) her iki seviyede de bağımsız olarak kullanılabilir.

## DSS Raporları

DSS'in detaylı raporlarını almak için özel endpoint'ler kullanılabilir:

- `POST /api/v1/verify/pades/report/simple` - SimpleReport (JSON)
- `POST /api/v1/verify/pades/report/detailed` - DetailedReport (XML)

Detaylar için [DSS Raporları](/verify-api/dss-reports) sayfasına bakın.

